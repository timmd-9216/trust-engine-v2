---
editor_options: 
  markdown: 
    wrap: 72
---

# Twitter Candidate Summary Report

This report documents the structure and semantics of the **Twitter
candidate summary** generated by the `read_json_folder.py` script.

The report is produced when running the pipeline in **country/platform
mode**:

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform twitter \
  --config-dir ./config \
  --out-csv ./out
```

The output file is:

    out/<country>/twitter/reports/candidate_summary.csv

The YAML file (`config/<country>.yaml`) is the **single source of
truth** for candidate identity and metadata.

------------------------------------------------------------------------

## Usage

### Single platform

Run one platform at a time:

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform twitter|instagram|youtube \
  --config-dir ./config \
  --out-csv ./out
```

### Multiple platforms (recommended)

Run all platforms in one command:

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform all \
  --config-dir ./config \
  --out-csv ./out
```

Or a comma-separated subset:

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform twitter,instagram \
  --config-dir ./config \
  --out-csv ./out
```

The script executes each platform sequentially and produces one summary
report per platform.

------------------------------------------------------------------------

## Data Sources

The report combines **two distinct Twitter data sources**, which are
kept separate conceptually and numerically.

### 1. Home (Own Posts) JSONs

Location in Cloud Storage:

    raw/<country>/twitter/*.json

Characteristics: - Typically one JSON per candidate (but not assumed) -
File name includes the `candidate_id` - Represents the candidate's own
timeline / own-post export

### 2. Candidate Subfolder JSONs (Interactions)

Location in Cloud Storage:

    raw/<country>/twitter/<candidate_id>/*.json

Characteristics: - Multiple JSON files per candidate - Includes replies,
mentions, quotes, and other interactions - Used to compute interaction
and engagement metrics

------------------------------------------------------------------------

## Column Definitions (Twitter)

Each row corresponds to **one candidate defined in the YAML**.

### Identity Columns

#### `candidate`

-   **Source:** YAML → `candidate_id`
-   Stable machine identifier

#### `candidate_name`

-   **Source:** YAML → `name`
-   Human-readable name

#### `twitter_username`

-   **Source:** YAML → `twitter_username`
-   Normalized (case-insensitive, without `@`)
-   Used to identify true own posts inside home JSONs

------------------------------------------------------------------------

### Own Post Metrics (Home JSONs)

These columns are computed **only from home JSON files** under
`raw/<country>/twitter/`.

#### `own_posts_raw`

-   **Definition:** Total number of items found in home JSON files whose
    **filename contains the candidate_id**
-   **Filtering:** Filename match only
-   **Includes:** Tweets, retweets, replies, quotes

Interpretation: \> Everything present in the candidate's own-post
export, regardless of author

------------------------------------------------------------------------

#### `own_posts`

-   **Definition:** Subset of `own_posts_raw` where the **posting user
    matches the YAML `twitter_username`**
-   **Filtering:**
    1.  Filename contains `candidate_id`
    2.  Item author username == `twitter_username`
-   **Author fields checked (best-effort):**
    -   `screen_name`
    -   `user.screen_name`
    -   `user.username`
    -   `username`
    -   `author_username`

Interpretation: \> True posts authored by the candidate

------------------------------------------------------------------------

#### `own_posts_retrieved`

-   **Definition:** Number of JSON files read from the candidate's
    **subfolder**
-   **Source:** `raw/<country>/twitter/<candidate_id>/`
-   **Technical:** Renamed version of `files`

Interpretation: \> Data completeness / ingestion indicator (not a
content metric)

------------------------------------------------------------------------

### Interaction Volume (Subfolder JSONs)

The following columns are computed **only from subfolder JSONs** and
**never include home JSONs**.

#### `items`

-   Total number of tweet-like objects found

#### `tweets`

-   Original tweets (not retweets or quotes)

#### `replies`

-   Tweets that are replies to other tweets

#### `retweets`

-   Retweets

#### `quotes`

-   Quote tweets

#### `media_items`

-   Items containing media (images, video, GIFs)

------------------------------------------------------------------------

### Engagement Sums (Subfolder JSONs)

These are simple sums across all interaction items.

#### `sum_reply_count`

-   Sum of `reply_count`

#### `sum_retweet_count`

-   Sum of `retweet_count`

#### `sum_quote_count`

-   Sum of `quote_count`

#### `sum_favorite_count`

-   Sum of `favorite_count`

------------------------------------------------------------------------

## Important Notes

-   **YAML is authoritative**: only candidates defined in the YAML
    appear in the report
-   Home JSONs and subfolder JSONs are **never mixed**
-   The report contains **no totals row** and **no per-candidate
    one-line CSVs**
-   All metrics in this document apply **only to Twitter/X**

------------------------------------------------------------------------

## Mental Model Summary

| Metric group          | Source          | Meaning                 |
|-----------------------|-----------------|-------------------------|
| Identity              | YAML            | Who the candidate is    |
| `own_posts_*`         | Home JSONs      | Candidate's own content |
| `own_posts_retrieved` | Subfolder files | Data completeness       |
| `items → media_items` | Subfolder JSONs | Interaction volume      |
| `sum_*`               | Subfolder JSONs | Engagement magnitude    |

------------------------------------------------------------------------

------------------------------------------------------------------------

# Instagram Candidate Summary Report

This section documents the structure and semantics of the **Instagram
candidate summary** generated by the same `read_json_folder.py` script
when run with `--platform instagram`.

The report is produced with:

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform instagram \
  --config-dir ./config \
  --out-csv ./out
```

The output file is:

    out/<country>/instagram/reports/candidate_summary_instagram.csv

As with Twitter, the YAML file (`config/<country>.yaml`) is the **single
source of truth** for candidate identity and social handles.

------------------------------------------------------------------------

## Data Sources (Instagram)

The Instagram report also combines **two distinct data sources**, which
are never mixed.

### 1. Home (Own Posts) JSONs

Location in Cloud Storage:

    raw/<country>/instagram/*.json

Schema (simplified):

``` json
{
  "data": [
    {
      "pk": "...",
      "username": "rixipresidenta",
      "caption": "...",
      "like_count": 528,
      "comment_count": 3,
      "taken_at": "2025-12-19 01:05:59",
      "post_url": "https://www.instagram.com/p/..."
    }
  ]
}
```

Characteristics: - Typically one JSON per candidate (not assumed) - File
name includes the `candidate_id` - Represents posts published on the
candidate's Instagram account

------------------------------------------------------------------------

### 2. Candidate Subfolder JSONs (Comments / Interactions)

Location in Cloud Storage:

    raw/<country>/instagram/<candidate_id>/*.json

Schema (simplified):

``` json
{
  "pk": "...",
  "username": "commenter_user",
  "text": "...",
  "child_comment_count": 0,
  "comment_like_count": 2,
  "created_at": 1763348570
}
```

Characteristics: - One JSON per batch of comments - Each item
corresponds to a **comment** on a candidate's post - Used to compute
engagement and audience interaction metrics

------------------------------------------------------------------------

## Column Definitions (Instagram)

Each row corresponds to **one candidate defined in the YAML**.

### Identity Columns

#### `candidate`

-   **Source:** YAML → `candidate_id`
-   Stable machine identifier

#### `candidate_name`

-   **Source:** YAML → `name`
-   Human-readable name

#### `instagram_username`

-   **Source:** YAML → `instagram_username`
-   Normalized (case-insensitive, without `@`)
-   Used to identify true own posts in home JSONs

------------------------------------------------------------------------

### Own Post Metrics (Home JSONs)

These columns are computed **only from home Instagram JSONs** under
`raw/<country>/instagram/`.

#### `own_posts_raw`

-   **Definition:** Total number of posts found in home JSON files whose
    **filename contains the candidate_id**
-   **Filtering:** Filename match only

Interpretation: \> Everything included in the candidate's Instagram
export, regardless of author field correctness

------------------------------------------------------------------------

#### `own_posts`

-   **Definition:** Subset of `own_posts_raw` where `post.username`
    matches the YAML `instagram_username`
-   **Filtering:**
    1.  Filename contains `candidate_id`
    2.  `username == instagram_username`

Interpretation: \> Posts that were actually authored by the candidate's
account

------------------------------------------------------------------------

#### `own_posts_retrieved`

-   **Definition:** Number of JSON files found in the candidate's
    **subfolder**
-   **Source:** `raw/<country>/instagram/<candidate_id>/`

Interpretation: \> Data completeness / ingestion indicator for Instagram
comments

------------------------------------------------------------------------

#### `sum_post_like_count`

-   **Definition:** Sum of `like_count` across all home posts matched to
    the candidate

#### `sum_post_comment_count`

-   **Definition:** Sum of `comment_count` across all home posts matched
    to the candidate

------------------------------------------------------------------------

### Interaction Metrics (Candidate Subfolder JSONs)

The following columns are computed **only from candidate subfolder
JSONs**.

#### `items`

-   Total number of comment items

#### `unique_users`

-   Number of distinct commenters (`username`)

#### `sum_child_comment_count`

-   Sum of `child_comment_count` across all comments

#### `sum_comment_like_count`

-   Sum of `comment_like_count` across all comments

------------------------------------------------------------------------

## Important Notes (Instagram)

-   **YAML is authoritative**: only candidates defined in the YAML
    appear in the report
-   Home post JSONs and comment JSONs are **never mixed**
-   No totals rows and no per-candidate one-line CSVs are produced
-   All metrics in this section apply **only to Instagram**

------------------------------------------------------------------------

## Mental Model Summary (Instagram)

| Metric group           | Source          | Meaning                     |
|------------------------|-----------------|-----------------------------|
| Identity               | YAML            | Candidate identity          |
| `own_posts_*`          | Home JSONs      | Candidate's Instagram posts |
| `own_posts_retrieved`  | Subfolder files | Comment data completeness   |
| `items / unique_users` | Subfolder JSONs | Audience interaction        |
| `sum_*`                | Both (separate) | Engagement volume           |

------------------------------------------------------------------------

This Instagram report mirrors the Twitter report in structure and
philosophy, while respecting Instagram's distinct data model.

# Candidate Summary Reports (Twitter & Instagram)

This README documents the **candidate summary reports** generated by
`read_json_folder.py` for **Twitter/X** and **Instagram**.

The YAML file (`config/<country>.yaml`) is the **single source of
truth** for candidate identity and social handles.

------------------------------------------------------------------------

## Twitter Candidate Summary

### Command

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform twitter \
  --config-dir ./config \
  --out-csv ./out
```

### Output

    out/<country>/twitter/reports/candidate_summary.csv

### Columns (Twitter)

| Column                | Meaning                    | Source / Filter                                                       |
|-----------------------|----------------------------|-----------------------------------------------------------------------|
| `candidate`           | Candidate ID               | YAML `candidate_id`                                                   |
| `candidate_name`      | Candidate name             | YAML `name`                                                           |
| `twitter_username`    | Official handle            | YAML `twitter_username`                                               |
| `own_posts_raw`       | All items in home JSONs    | `raw/<country>/twitter/*.json` where filename contains `candidate_id` |
| `own_posts`           | Candidate-authored posts   | `own_posts_raw` filtered by `twitter_username`                        |
| `own_posts_retrieved` | Subfolder JSON files count | `raw/<country>/twitter/<candidate_id>/*.json`                         |
| `items`               | Total interaction items    | Subfolder JSONs                                                       |
| `tweets`              | Original tweets            | Subfolder JSONs                                                       |
| `replies`             | Replies                    | Subfolder JSONs                                                       |
| `retweets`            | Retweets                   | Subfolder JSONs                                                       |
| `quotes`              | Quote tweets               | Subfolder JSONs                                                       |
| `media_items`         | Items with media           | Subfolder JSONs                                                       |
| `sum_reply_count`     | Total replies received     | Subfolder JSONs                                                       |
| `sum_retweet_count`   | Total retweets received    | Subfolder JSONs                                                       |
| `sum_quote_count`     | Total quotes received      | Subfolder JSONs                                                       |
| `sum_favorite_count`  | Total likes received       | Subfolder JSONs                                                       |

------------------------------------------------------------------------

## Instagram Candidate Summary

### Command

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform instagram \
  --config-dir ./config \
  --out-csv ./out
```

### Output

    out/<country>/instagram/reports/candidate_summary_instagram.csv

### Columns (Instagram)

| Column                    | Meaning                    | Source / Filter                                                         |
|---------------------------|----------------------------|-------------------------------------------------------------------------|
| `candidate`               | Candidate ID               | YAML `candidate_id`                                                     |
| `candidate_name`          | Candidate name             | YAML `name`                                                             |
| `instagram_username`      | Official username          | YAML `instagram_username`                                               |
| `own_posts_raw`           | All home posts             | `raw/<country>/instagram/*.json` where filename contains `candidate_id` |
| `own_posts`               | Candidate-authored posts   | `own_posts_raw` filtered by `instagram_username`                        |
| `own_posts_retrieved`     | Subfolder JSON files count | `raw/<country>/instagram/<candidate_id>/*.json`                         |
| `items`                   | Total comments             | Candidate subfolder JSONs                                               |
| `unique_users`            | Distinct commenters        | Candidate subfolder JSONs                                               |
| `sum_child_comment_count` | Total replies to comments  | Candidate subfolder JSONs                                               |
| `sum_comment_like_count`  | Total comment likes        | Candidate subfolder JSONs                                               |
| `sum_post_like_count`     | Total likes on posts       | Home JSONs                                                              |
| `sum_post_comment_count`  | Total comments on posts    | Home JSONs                                                              |

------------------------------------------------------------------------

## Notes

-   Home JSONs and subfolder JSONs are **never mixed**
-   No totals rows and no per-candidate one-line CSVs
-   Metrics are **platform-specific** (Twitter ≠ Instagram)
-   Reports are reproducible and YAML-driven \# Candidate Summary
    Reports (Twitter, Instagram, YouTube)

This document describes the **candidate summary reports** generated by
`read_json_folder.py`. The YAML file (`config/<country>.yaml`) is the
**single source of truth** for candidate identity and platform handles.

------------------------------------------------------------------------

## Usage

### Single platform

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform twitter|instagram|youtube \
  --config-dir ./config \
  --out-csv ./out
```

### Multiple platforms (recommended)

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform all
```

Or a subset:

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform twitter,instagram
```

Each platform runs sequentially and produces one CSV per platform.

------------------------------------------------------------------------

## Outputs

    out/<country>/twitter/reports/candidate_summary.csv
    out/<country>/instagram/reports/candidate_summary_instagram.csv
    out/<country>/youtube/reports/candidate_summary_youtube.csv

------------------------------------------------------------------------

## Columns

### Twitter

| Column                | Description                                                                         |
|-----------------------|-------------------------------------------------------------------------------------|
| `candidate`           | Candidate ID (YAML)                                                                 |
| `candidate_name`      | Candidate name                                                                      |
| `twitter_username`    | Official handle (YAML)                                                              |
| `own_posts_raw`       | All items in `raw/<country>/twitter/*.json` with filename containing `candidate_id` |
| `own_posts`           | Subset of `own_posts_raw` authored by `twitter_username`                            |
| `own_posts_retrieved` | Number of JSON files in `raw/<country>/twitter/<candidate_id>/`                     |
| `items`               | Total interaction items                                                             |
| `tweets`              | Original tweets                                                                     |
| `replies`             | Replies                                                                             |
| `retweets`            | Retweets                                                                            |
| `quotes`              | Quote tweets                                                                        |
| `media_items`         | Items with media                                                                    |
| `sum_reply_count`     | Sum of replies                                                                      |
| `sum_retweet_count`   | Sum of retweets                                                                     |
| `sum_quote_count`     | Sum of quotes                                                                       |
| `sum_favorite_count`  | Sum of likes                                                                        |

------------------------------------------------------------------------

### Instagram

| Column                    | Description                                                                       |
|---------------------------|-----------------------------------------------------------------------------------|
| `candidate`               | Candidate ID (YAML)                                                               |
| `candidate_name`          | Candidate name                                                                    |
| `instagram_username`      | Official username (YAML)                                                          |
| `own_posts_raw`           | Posts in `raw/<country>/instagram/*.json` with filename containing `candidate_id` |
| `own_posts`               | Posts authored by `instagram_username`                                            |
| `own_posts_retrieved`     | Number of JSON files in `raw/<country>/instagram/<candidate_id>/`                 |
| `items`                   | Total comments                                                                    |
| `unique_users`            | Distinct commenters                                                               |
| `sum_child_comment_count` | Sum of replies to comments                                                        |
| `sum_comment_like_count`  | Sum of comment likes                                                              |
| `sum_post_like_count`     | Sum of likes on posts                                                             |
| `sum_post_comment_count`  | Sum of comments on posts                                                          |

------------------------------------------------------------------------

### YouTube

| Column                 | Description                                                     |
|------------------------|-----------------------------------------------------------------|
| `candidate`            | Candidate ID (YAML)                                             |
| `candidate_name`       | Candidate name                                                  |
| `youtube_channel_id`   | Official channel ID (YAML)                                      |
| `videos`               | Total videos retrieved                                          |
| `videos_own`           | Videos published by `youtube_channel_id`                        |
| `own_posts_retrieved`  | Number of JSON files in `raw/<country>/youtube/<candidate_id>/` |
| `unique_channels`      | Distinct publishing channels                                    |
| `sum_view_count`       | Sum of views                                                    |
| `sum_like_count`       | Sum of likes                                                    |
| `sum_comment_count`    | Sum of comments                                                 |
| `avg_duration_seconds` | Average video duration (seconds)                                |
| `languages`            | Comma-separated detected languages                              |

------------------------------------------------------------------------

## Notes

-   Home JSONs and candidate subfolder JSONs are **never mixed**
-   No totals rows and no per-candidate one-line CSVs
-   Candidate order follows YAML `candidate_id` order
-   Metrics are platform-specific \# Candidate Summary Reports (Twitter,
    Instagram, YouTube)

YAML (`config/<country>.yaml`) is the **source of truth** for candidates
and platform handles. Candidate ordering follows YAML order.

## Usage

### Single platform

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform twitter|instagram|youtube \
  --config-dir ./config \
  --out-csv ./out
```

### Multiple platforms

All:

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform all \
  --config-dir ./config \
  --out-csv ./out
```

Subset:

``` bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform twitter,instagram \
  --config-dir ./config \
  --out-csv ./out
```

## Outputs

``` text
out/<country>/twitter/reports/candidate_summary.csv
out/<country>/instagram/reports/candidate_summary_instagram.csv
out/<country>/youtube/reports/candidate_summary_youtube.csv
```

## Columns

### Twitter

| Column                | Description                                                                         |
|-----------------------|-------------------------------------------------------------------------------------|
| `candidate`           | Candidate ID (YAML)                                                                 |
| `candidate_name`      | Candidate name                                                                      |
| `twitter_username`    | Official handle (YAML)                                                              |
| `own_posts_raw`       | All items in `raw/<country>/twitter/*.json` with filename containing `candidate_id` |
| `own_posts`           | Subset of `own_posts_raw` authored by `twitter_username`                            |
| `own_posts_retrieved` | \# JSON files in `raw/<country>/twitter/<candidate_id>/`                            |
| `items`               | Total interaction items                                                             |
| `tweets`              | Original tweets                                                                     |
| `replies`             | Replies                                                                             |
| `retweets`            | Retweets                                                                            |
| `quotes`              | Quote tweets                                                                        |
| `media_items`         | Items with media                                                                    |
| `sum_reply_count`     | Sum of replies                                                                      |
| `sum_retweet_count`   | Sum of retweets                                                                     |
| `sum_quote_count`     | Sum of quotes                                                                       |
| `sum_favorite_count`  | Sum of likes                                                                        |

### Instagram

| Column                    | Description                                                                       |
|---------------------------|-----------------------------------------------------------------------------------|
| `candidate`               | Candidate ID (YAML)                                                               |
| `candidate_name`          | Candidate name                                                                    |
| `instagram_username`      | Official username (YAML)                                                          |
| `own_posts_raw`           | Posts in `raw/<country>/instagram/*.json` with filename containing `candidate_id` |
| `own_posts`               | Posts authored by `instagram_username`                                            |
| `own_posts_retrieved`     | \# JSON files in `raw/<country>/instagram/<candidate_id>/`                        |
| `items`                   | Total comments                                                                    |
| `unique_users`            | Distinct commenters                                                               |
| `sum_child_comment_count` | Sum of replies to comments                                                        |
| `sum_comment_like_count`  | Sum of comment likes                                                              |
| `sum_post_like_count`     | Sum of likes on posts                                                             |
| `sum_post_comment_count`  | Sum of comments on posts                                                          |

### YouTube

| Column                 | Description                                              |
|------------------------|----------------------------------------------------------|
| `candidate`            | Candidate ID (YAML)                                      |
| `candidate_name`       | Candidate name                                           |
| `youtube_channel_id`   | Official channel ID (YAML)                               |
| `videos`               | Total videos retrieved                                   |
| `videos_own`           | Videos published by `youtube_channel_id`                 |
| `own_posts_retrieved`  | \# JSON files in `raw/<country>/youtube/<candidate_id>/` |
| `unique_channels`      | Distinct publishing channels                             |
| `sum_view_count`       | Sum of views                                             |
| `sum_like_count`       | Sum of likes                                             |
| `sum_comment_count`    | Sum of comments                                          |
| `avg_duration_seconds` | Average video duration (seconds)                         |
| `languages`            | Comma-separated detected languages                       |

## Notes

-   Home JSONs and candidate subfolder JSONs are **never mixed**
-   No totals rows and no per-candidate one-line CSVs
-   Metrics are platform-specific

# Candidate Summary Reports (Twitter, Instagram, YouTube)

YAML (`config/<country>.yaml`) is the **source of truth** for candidates and platform handles. Candidate ordering follows YAML order.

## Usage

### Single platform

```bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform twitter|instagram|youtube \
  --config-dir ./config \
  --out-csv ./out
```

### Multiple platforms

All:

```bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform all \
  --config-dir ./config \
  --out-csv ./out
```

Subset:

```bash
python3 -m src.data_analysis.read_json_folder \
  --bucket <bucket> \
  --country <country> \
  --platform twitter,instagram \
  --config-dir ./config \
  --out-csv ./out
```

## Outputs

```text
out/<country>/twitter/reports/candidate_summary.csv
out/<country>/instagram/reports/candidate_summary_instagram.csv
out/<country>/youtube/reports/candidate_summary_youtube.csv
```

## Columns

### Twitter

| Column | Description |
|---|---|
| `candidate` | Candidate ID (YAML) |
| `candidate_name` | Candidate name |
| `twitter_username` | Official handle (YAML) |
| `own_posts_raw` | All items in `raw/<country>/twitter/*.json` with filename containing `candidate_id` |
| `own_posts` | Subset of `own_posts_raw` authored by `twitter_username` |
| `own_posts_retrieved` | # JSON files in `raw/<country>/twitter/<candidate_id>/` |
| `items` | Total interaction items |
| `tweets` | Original tweets |
| `replies` | Replies |
| `retweets` | Retweets |
| `quotes` | Quote tweets |
| `media_items` | Items with media |
| `sum_reply_count` | Sum of replies |
| `sum_retweet_count` | Sum of retweets |
| `sum_quote_count` | Sum of quotes |
| `sum_favorite_count` | Sum of likes |

### Instagram

| Column | Description |
|---|---|
| `candidate` | Candidate ID (YAML) |
| `candidate_name` | Candidate name |
| `instagram_username` | Official username (YAML) |
| `own_posts_raw` | Posts in `raw/<country>/instagram/*.json` with filename containing `candidate_id` |
| `own_posts` | Posts authored by `instagram_username` |
| `own_posts_retrieved` | # JSON files in `raw/<country>/instagram/<candidate_id>/` |
| `items` | Total comments |
| `unique_users` | Distinct commenters |
| `sum_child_comment_count` | Sum of replies to comments |
| `sum_comment_like_count` | Sum of comment likes |
| `sum_post_like_count` | Sum of likes on posts |
| `sum_post_comment_count` | Sum of comments on posts |

### YouTube

| Column | Description |
|---|---|
| `candidate` | Candidate ID (YAML) |
| `candidate_name` | Candidate name |
| `youtube_channel_id` | Official channel ID (YAML) |
| `videos` | Total videos retrieved |
| `videos_own` | Videos published by `youtube_channel_id` |
| `own_posts_retrieved` | # JSON files in `raw/<country>/youtube/<candidate_id>/` |
| `unique_channels` | Distinct publishing channels |
| `sum_view_count` | Sum of views |
| `sum_like_count` | Sum of likes |
| `sum_comment_count` | Sum of comments |
| `avg_duration_seconds` | Average video duration (seconds) |
| `languages` | Comma-separated detected languages |

## Notes

- Home JSONs and candidate subfolder JSONs are **never mixed**
- No totals rows and no per-candidate one-line CSVs
- Metrics are platform-specific
# Candidate Summary Reports

YAML (`config/<country>.yaml`) is the source of truth for candidates and platform handles. Candidate ordering follows YAML order.

## Twitter

**Run**

```bash
python3 -m src.data_analysis.read_json_folder \
  --bucket trust-prd \
  --country <country> \
  --platform twitter \
  --config-dir ./config \
  --out-csv ./out
```

**Output**

```text
out/<country>/twitter/reports/candidate_summary.csv
```

**Columns**

| Column | Description |
|---|---|
| `candidate` | Candidate ID (YAML `candidate_id`) |
| `candidate_name` | Candidate name (YAML `name`) |
| `twitter_username` | Handle (YAML `twitter_username`) |
| `own_posts_raw` | Count of items from home JSONs: `raw/<country>/twitter/*.json` where filename contains `candidate_id` |
| `own_posts` | `own_posts_raw` filtered to items authored by `twitter_username` |
| `own_posts_retrieved` | Number of JSON files in `raw/<country>/twitter/<candidate_id>/` |
| `items` | Total interaction items from candidate subfolder JSONs |
| `tweets` | Original tweets |
| `replies` | Replies |
| `retweets` | Retweets |
| `quotes` | Quote tweets |
| `media_items` | Items containing media |
| `sum_reply_count` | Sum of `reply_count` |
| `sum_retweet_count` | Sum of `retweet_count` |
| `sum_quote_count` | Sum of `quote_count` |
| `sum_favorite_count` | Sum of `favorite_count` |

## Instagram

**Run**

```bash
python3 -m src.data_analysis.read_json_folder \
  --bucket trust-prd \
  --country <country> \
  --platform instagram \
  --config-dir ./config \
  --out-csv ./out
```

**Output**

```text
out/<country>/instagram/reports/candidate_summary_instagram.csv
```

**Columns**

| Column | Description |
|---|---|
| `candidate` | Candidate ID (YAML `candidate_id`) |
| `candidate_name` | Candidate name (YAML `name`) |
| `instagram_username` | Username (YAML `instagram_username`) |
| `own_posts_raw` | Count of posts from home JSONs: `raw/<country>/instagram/*.json` where filename contains `candidate_id` |
| `own_posts` | `own_posts_raw` filtered to posts where `post.username == instagram_username` |
| `own_posts_retrieved` | Number of JSON files in `raw/<country>/instagram/<candidate_id>/` |
| `items` | Total comments from candidate subfolder JSONs |
| `unique_users` | Distinct commenter usernames |
| `sum_child_comment_count` | Sum of `child_comment_count` |
| `sum_comment_like_count` | Sum of `comment_like_count` |
| `sum_post_like_count` | Sum of `like_count` across home posts |
| `sum_post_comment_count` | Sum of `comment_count` across home posts |

## YouTube

**Run**

```bash
python3 -m src.data_analysis.read_json_folder \
  --bucket trust-prd \
  --country <country> \
  --platform youtube \
  --config-dir ./config \
  --out-csv ./out
```

**Output**

```text
out/<country>/youtube/reports/candidate_summary_youtube.csv
```

**Columns**

| Column | Description |
|---|---|
| `candidate` | Candidate ID (YAML `candidate_id`) |
| `candidate_name` | Candidate name (YAML `name`) |
| `youtube_channel_id` | Channel ID (YAML `youtube_channel_id`) |
| `videos` | Total videos across `raw/<country>/youtube/<candidate_id>/*.json` |
| `videos_own` | Videos where `item.channel_id == youtube_channel_id` |
| `own_posts_retrieved` | Number of JSON files in `raw/<country>/youtube/<candidate_id>/` |
| `unique_channels` | Distinct `channel_id` values |
| `sum_view_count` | Sum of `view_count` |
| `sum_like_count` | Sum of `like_count` |
| `sum_comment_count` | Sum of `comment_count` |
| `avg_duration_seconds` | Average parsed duration from ISO8601 `duration` |
| `languages` | Comma-separated distinct `language` values (up to 5) |
# Candidate Summary Reports

## Twitter

```bash
python3 -m src.data_analysis.read_json_folder \
  --bucket trust-prd \
  --country <country> \
  --platform twitter \
  --config-dir ./config \
  --out-csv ./out
```

| Column | Description |
|---|---|
| `candidate` | Candidate ID (YAML `candidate_id`) |
| `candidate_name` | Candidate name (YAML `name`) |
| `twitter_username` | Handle (YAML `twitter_username`) |
| `own_posts_raw` | Items from `raw/<country>/twitter/*.json` where filename contains `candidate_id` |
| `own_posts` | `own_posts_raw` filtered to items authored by `twitter_username` |
| `own_posts_retrieved` | # JSON files in `raw/<country>/twitter/<candidate_id>/` |
| `items` | Total interaction items from candidate subfolder JSONs |
| `tweets` | Original tweets |
| `replies` | Replies |
| `retweets` | Retweets |
| `quotes` | Quote tweets |
| `media_items` | Items containing media |
| `sum_reply_count` | Sum of `reply_count` |
| `sum_retweet_count` | Sum of `retweet_count` |
| `sum_quote_count` | Sum of `quote_count` |
| `sum_favorite_count` | Sum of `favorite_count` |

## Instagram

```bash
python3 -m src.data_analysis.read_json_folder \
  --bucket trust-prd \
  --country <country> \
  --platform instagram \
  --config-dir ./config \
  --out-csv ./out
```

| Column | Description |
|---|---|
| `candidate` | Candidate ID (YAML `candidate_id`) |
| `candidate_name` | Candidate name (YAML `name`) |
| `instagram_username` | Username (YAML `instagram_username`) |
| `own_posts_raw` | Posts from `raw/<country>/instagram/*.json` where filename contains `candidate_id` |
| `own_posts` | `own_posts_raw` filtered to posts where `post.username == instagram_username` |
| `own_posts_retrieved` | # JSON files in `raw/<country>/instagram/<candidate_id>/` |
| `items` | Total comments from candidate subfolder JSONs |
| `unique_users` | Distinct commenter usernames |
| `sum_child_comment_count` | Sum of `child_comment_count` |
| `sum_comment_like_count` | Sum of `comment_like_count` |
| `sum_post_like_count` | Sum of `like_count` across home posts |
| `sum_post_comment_count` | Sum of `comment_count` across home posts |

## YouTube

```bash
python3 -m src.data_analysis.read_json_folder \
  --bucket trust-prd \
  --country <country> \
  --platform youtube \
  --config-dir ./config \
  --out-csv ./out
```

| Column | Description |
|---|---|
| `candidate` | Candidate ID (YAML `candidate_id`) |
| `candidate_name` | Candidate name (YAML `name`) |
| `youtube_channel_id` | Channel ID (YAML `youtube_channel_id`) |
| `videos` | Total videos across `raw/<country>/youtube/<candidate_id>/*.json` |
| `videos_own` | Videos where `item.channel_id == youtube_channel_id` |
| `own_posts_retrieved` | # JSON files in `raw/<country>/youtube/<candidate_id>/` |
| `unique_channels` | Distinct `channel_id` values |
| `sum_view_count` | Sum of `view_count` |
| `sum_like_count` | Sum of `like_count` |
| `sum_comment_count` | Sum of `comment_count` |
| `avg_duration_seconds` | Average parsed duration from ISO8601 `duration` |
| `languages` | Comma-separated distinct `language` values (up to 5) |